# 观察者模式
## 简介
观察者模式用于建立对象之间**1对多**的**依赖关系**，一个对象发生改变时将自动通知其他对象，其他对象将作出相应反应。
观察者模式又称**发布-订阅（publish/Subscribe)**、**模型-视图(Model/View)**、**源-监听(Source/Listener)**或者**从属(Dependents)**模式。
**观察目标**：发生改变的对象
**观察者**：被通知的对象
### 举个例子-红路灯
等红绿灯的时候，红路灯就是观察目标，车主就是观察者，当红灯变为绿灯的时候，车就会做出相应的动作。
从这个例子来看，观察者模式更应该是车主盯着红路灯，自己应该一直维持着看红路灯的动作，而实际实现的时候，更多的像发布订阅模式，红路灯变化，告知各个等待的车主。
### 从发布订阅的角度思考代码的实现
1,既然要发布消息，那主题Subject就需要各个订阅者Observer的“联系方式”--指针/引用.
2,怎么触发Subject的变化？两种方式**外部刺激**，和**内部刺激**。
**外部刺激**是在**发布订阅**系统外的因素，比如订阅B站up主，突然这个up主发布新视屏了，就会通知各个粉丝有个up主更新视屏了。这个时候，粉丝并不需要知道这个发布者是谁，应为订阅者只是单方面的接受消息，发布者需要依赖订阅者，保留订阅者的联系方式。
**内部刺激**是在**发布订阅**系统内的因素，比如订阅B站up主，但你给up主寄刀片，告诉他赶紧更新，他被吓得赶紧更新，其他的粉丝就会收到更新的通知了。这个时候，发布者和订阅者是有沟通的，发布者需要依赖订阅者，保留订阅者的联系方式；订阅者也需要依赖发布者，保留发布者的联系方式。



